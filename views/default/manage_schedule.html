{{extend 'layout.html'}}

{{block head}}
<script src="{{=URL('static', 'js/vue.js')}}"></script>
<link href="{{=URL('static','css/animate.css')}}" rel="stylesheet" type="text/css"/>
<script src="{{=URL('static','js/viewportchecker.js')}}"></script>
<link href="{{=URL('static','css/component.css')}}" rel="stylesheet" type="text/css"/>
<script src="{{=URL('static','js/modernizr.custom.js')}}"></script>
<script>
    var start_shift_url = "{{=URL('default', 'start_shift')}}";
    var end_shift_url = "{{=URL('default', 'end_shift')}}";
    var get_schedule_url = "{{=URL('default', 'manage_schedule')}}";
</script>
{{end}}

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }

        td, th {
            border: 1px solid #dddddd;
            text-align: center;
            padding: 8px;

        }

        tr:nth-child(even) {
            background-color: #ffffff;
        }

    </style>
</head>

<body>
    <!--
    <table>
        <tr>
            <th></th>
            <th></th>
            <th colspan="3">Signup time</th>
        </tr>
        <tr>
            <th>Signup Location</th>
            <th>Signup Date</th>
            <th>21:30</th>
            <th>22:30</th>
            <th>23:30</th>
        </tr>
    </table>
    -->
    <div id="vue-div" class="clean_table">

        <!-- Default page -->
        <div v-if="page=='default'">
            <!--Select location-->
            <h4>Select a location to start delivering</h4>
            <select v-model="driver_location" required>
                    <option disabled hidden>Select a location</option>
                    <option>Safeway</option>
                    <option>7-Eleven</option>
                    <option>Ferrells</option>
            </select>

            <!--Confirm shift-->
            <button class="btn red" v-on:click="start_shift()">
                Start shift
            </button>

            <button class="btn red" v-on:click="goto('on_shift')">
                On Shift
            </button>

            <button v-on:click="warn('WARNING', $event)">Warn Button</button>

            <button class="btn yellow" onclick="setInterval(, 5000)">
            Test
            </button>
        </div>

        <!-- On Shift page -->
        <div v-if="page=='on_shift'">
            {{for s in sched:}}
                <h3>You are currently on shift</h3>
                <span>Your shift started on {{=s.signup_time}}</span><br>
                <span>You are expected to end your shift on {{=s.end_shift_time}}</span><br>
            {{pass}}

                <button class="btn yellow" v-on:click="end_shift()">
                End shift
                </button>
        </div>

        <!-- Test page -->
        <div id="test" v-if="page=='test'">
            <button class="btn yellow" v-on:click="goto('default')">
            Back
            </button>
        </div>


        <br><br><br>
        {{=form}}


    </div>
</body>

<script src="{{=URL('static','js/default_manage_schedule.js')}}"></script>


