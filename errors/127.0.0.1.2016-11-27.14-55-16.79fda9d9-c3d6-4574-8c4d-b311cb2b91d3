(dp1
S'output'
p2
S"<class 'stripe.error.AuthenticationError'> Stripe no longer supports API requests made with TLS 1.0. Please initiate HTTPS connections with TLS 1.2 or later. You can learn more about this at https://stripe.com/blog/upgrading-tls."
p3
sS'layer'
p4
S'/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/applications/SlugDash/controllers/default.py'
p5
sS'code'
p6
S'# -*- coding: utf-8 -*-\n# this file is released under public domain and you can use without limitations\n\n# -------------------------------------------------------------------------\n# Sample shopping cart implementation.\n# -------------------------------------------------------------------------\n\nimport traceback\n\ndef index():\n    """\n    I am not doing anything here.  Look elsewhere.\n    """\n    return dict()\n\ndef set_timezone():\n    """Ajax call to set the timezone information for the session."""\n    tz_name = request.vars.name\n    # Validates the name.\n    from pytz import all_timezones_set\n    if tz_name in all_timezones_set:\n        session.user_timezone = tz_name\n        # If the user is logged in, sets also the timezone for the user.\n        # Otherwise, it can happen that a user expires a cookie, then click on edit.\n        # When the user is presented the edit page, the translation is done according to UTC,\n        # but when the user is done editing, due to autodetection, the user is then in\n        # it\'s own time zone, and the dates of an assignment change.\n        # This really happened.\n        if auth.user is not None:\n            db.auth_user[auth.user.id] = dict(user_timezone = tz_name)\n        logger.info("Set timezone to: %r" % tz_name)\n    else:\n        logger.warning("Invalid timezone received: %r" % tz_name)\n\ndef get_products():\n    """Gets the list of products, possibly in response to a query."""\n    t = request.vars.q.strip()\n    if request.vars.q:\n        q = ((db.product.name.contains(t)) |\n             (db.product.description.contains(t)))\n    else:\n        q = db.product.id > 0\n    products = db(q).select(db.product.ALL)\n    # Fixes some fields, to make it easy on the client side.\n    for p in products:\n        p.image_url = URL(\'download\', p.image)\n        p.desired_quantity = min(1, p.quantity)\n        p.cart_quantity = 0\n    return response.json(dict(\n        products=products,\n    ))\n\n\ndef purchase():\n    """Ajax function called when a customer orders and pays for the cart."""\n    if not URL.verify(request, hmac_key=session.hmac_key):\n        raise HTTP(500)\n    # Creates the charge.\n    """ This is not working properly. Purchase does not go through"""\n    import stripe\n    # Your secret key.\n    stripe.api_key = "sk_test_pZ4tD6Pq0VuUCkSyXJ6Feb2T"\n    token = json.loads(request.vars.transaction_token)\n    amount = float(request.vars.order_total)\n    try:\n        charge = stripe.Charge.create(\n            amount=int(amount * 100),\n            currency="usd",\n            source=token[\'id\'],\n            description="Purchase",\n        )\n    except stripe.error.CardError as e:\n        logger.info("The card has been declined.")\n        logger.info("%r" % traceback.format_exc())\n        return "nok"\n\n    db.customer_order.insert(\n        customer_info=request.vars.customer_info,\n        transaction_token=json.dumps(token),\n        order_total=request.vars.order_total,\n        customer_name=request.vars.customer_name,\n        user_email=request.vars.user_email,\n        cart=request.vars.cart)\n    return "ok"\n\n\n# Normally here we would check that the user is an admin, and do programmatic\n# APIs to add and remove products to the inventory, etc.\n@auth.requires_login()\ndef product_management():\n    q = db.product # This queries for all products.\n    form = SQLFORM.grid(\n        q,\n        editable=True,\n        create=True,\n        user_signature=True,\n        deletable=True,\n        fields=[db.product.product_name, db.product.quantity, db.product.price,\n                db.product.image],\n        details=True,\n    )\n    return dict(form=form)\n\n\n""" Viewing orders\nNeed to work on:\n    + Display what/when they ordered\n    + Display if a payment for that order is successful\n    + Create group authentication to prevent certain users from accessing this page\n    + Maybe work on improving the UI\n"""\n@auth.requires_login()\ndef view_orders():\n    q = db.customer_order # This queries for all products.\n    #db.customer_order.customer_info.represent = lambda v, r: nicefy(v)\n    #db.customer_order.transaction_token.represent = lambda v, r: nicefy(v)\n    #db.customer_order.cart.represent = lambda v, r: nicefy(v)\n\n    orders = db().select(db.customer_order.ALL)\n\n    #db().select(db.customer_order.order_total)\n    for order in orders:\n        order.customer_info = json.loads(order.customer_info)\n        order.cart = json.loads(order.cart)\n        print(order.customer_info)\n        print(order.cart)\n\n\n    form = SQLFORM.grid(\n        q,\n        editable=True,\n        create=True,\n        user_signature=True,\n        deletable=True,\n        details=True,\n    )\n    return dict(form=form, orders=orders)\n\n\ndef user():\n    """\n    exposes:\n    http://..../[app]/default/user/login\n    http://..../[app]/default/user/logout\n    http://..../[app]/default/user/register\n    http://..../[app]/default/user/profile\n    http://..../[app]/default/user/retrieve_password\n    http://..../[app]/default/user/change_password\n    http://..../[app]/default/user/bulk_register\n    use @auth.requires_login()\n        @auth.requires_membership(\'group name\')\n        @auth.requires_permission(\'read\',\'table name\',record_id)\n    to decorate functions that need access control\n    also notice there is http://..../[app]/appadmin/manage/auth to allow administrator to manage users\n    """\n    return dict(form=auth())\n\n\n@cache.action()\ndef download():\n    """\n    allows downloading of uploaded files\n    http://..../[app]/default/download/[filename]\n    """\n    return response.download(request, db)\n\n\ndef call():\n    """\n    exposes services. for example:\n    http://..../[app]/default/call/jsonrpc\n    decorate with @services.jsonrpc the functions to expose\n    supports xml, json, xmlrpc, jsonrpc, amfrpc, rss, csv\n    """\n    return service()\n\nresponse._vars=response._caller(purchase)\n'
p7
sS'snapshot'
p8
(dp9
S'exception'
p10
(dp11
S'__module__'
p12
S"'stripe.error'"
p13
sS'__getslice__'
p14
S"<method-wrapper '__getslice__' of AuthenticationError object>"
p15
sS'__str__'
p16
S"<method-wrapper '__str__' of AuthenticationError object>"
p17
sS'__reduce__'
p18
S'<built-in method __reduce__ of AuthenticationError object>'
p19
sS'__dict__'
p20
S'{\'http_body\': u\'{\\n  "error": {\\n    "type": "invalid_request_...ttps://stripe.com/blog/upgrading-tls."\\n  }\\n}\\n\', \'http_status\': 401, \'json_body\': {u\'error\': {u\'message\': u\'Stripe no longer supports API requests made wi...t this at https://stripe.com/blog/upgrading-tls.\', u\'type\': u\'invalid_request_error\'}}}'
p21
sS'__sizeof__'
p22
S'<built-in method __sizeof__ of AuthenticationError object>'
p23
sS'__weakref__'
p24
S'None'
p25
sS'__init__'
p26
S"<bound method AuthenticationError.__init__ of Au...his at https://stripe.com/blog/upgrading-tls.',)>"
p27
sS'__setattr__'
p28
S"<method-wrapper '__setattr__' of AuthenticationError object>"
p29
sS'__reduce_ex__'
p30
S'<built-in method __reduce_ex__ of AuthenticationError object>'
p31
sS'__new__'
p32
S'<built-in method __new__ of type object>'
p33
sS'__format__'
p34
S'<built-in method __format__ of AuthenticationError object>'
p35
sS'__class__'
p36
S"<class 'stripe.error.AuthenticationError'>"
p37
sS'__doc__'
p38
S'None'
p39
sS'__getitem__'
p40
S"<method-wrapper '__getitem__' of AuthenticationError object>"
p41
sS'__setstate__'
p42
S'<built-in method __setstate__ of AuthenticationError object>'
p43
sS'__getattribute__'
p44
S"<method-wrapper '__getattribute__' of AuthenticationError object>"
p45
sS'args'
p46
S"(u'Stripe no longer supports API requests made wi...t this at https://stripe.com/blog/upgrading-tls.',)"
p47
sS'json_body'
p48
S"{u'error': {u'message': u'Stripe no longer supports API requests made wi...t this at https://stripe.com/blog/upgrading-tls.', u'type': u'invalid_request_error'}}"
p49
sS'__subclasshook__'
p50
S'<built-in method __subclasshook__ of type object>'
p51
sS'__unicode__'
p52
S'<built-in method __unicode__ of AuthenticationError object>'
p53
sS'http_body'
p54
S'u\'{\\n  "error": {\\n    "type": "invalid_request_...ttps://stripe.com/blog/upgrading-tls."\\n  }\\n}\\n\''
p55
sS'__delattr__'
p56
S"<method-wrapper '__delattr__' of AuthenticationError object>"
p57
sS'__repr__'
p58
S"<method-wrapper '__repr__' of AuthenticationError object>"
p59
sS'http_status'
p60
S'401'
p61
sS'__hash__'
p62
S"<method-wrapper '__hash__' of AuthenticationError object>"
p63
ssS'evalue'
p64
S'Stripe no longer supports API requests made with TLS 1.0. Please initiate HTTPS connections with TLS 1.2 or later. You can learn more about this at https://stripe.com/blog/upgrading-tls.'
p65
sS'request'
p66
cgluon.html
XML_unpickle
p67
(S's\xb8e\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">ajax</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">application</td><td style="vertical-align:top;">:</td><td><div>SlugDash</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cid</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">client</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">controller</td><td style="vertical-align:top;">:</td><td><div>default</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_admin</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-dae8cbcf-d259-4415-b3c7-f7f1ab310e99<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_slugdash</td><td style="vertical-align:top;">:</td><td><div>11:db66e72b-8856-47a8-aeff-773d514d21a9<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_welcome</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1-a39261b9-8aa0-47f4-8b2b-d71ea5c6e2e1<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">env</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">CONTENT_LENGTH</td><td style="vertical-align:top;">:</td><td><div>2179</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">CONTENT_TYPE</td><td style="vertical-align:top;">:</td><td><div>application/x-www-form-urlencoded; charset=UTF-8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT</td><td style="vertical-align:top;">:</td><td><div>*/*</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_ENCODING</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ACCEPT_LANGUAGE</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONNECTION</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONTENT_LENGTH</td><td style="vertical-align:top;">:</td><td><div>2179</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_CONTENT_TYPE</td><td style="vertical-align:top;">:</td><td><div>application/x-www-form-urlencoded; charset=UTF-8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_COOKIE</td><td style="vertical-align:top;">:</td><td><div>session_id_welcome=127.0.0.1-a39261b9-8aa0-47f4-8b2b-d71ea5c6e2e1; session_id_admin=127.0.0.1-dae8cbcf-d259-4415-b3c7-f7f1ab310e99; session_id_slugdash=&quot;11:db66e72b-8856-47a8-aeff-773d514d21a9&quot;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_HOST</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_ORIGIN</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_REFERER</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000/SlugDash/default/index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_USER_AGENT</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.112 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">HTTP_X_REQUESTED_WITH</td><td style="vertical-align:top;">:</td><td><div>XMLHttpRequest</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">PATH_INFO</td><td style="vertical-align:top;">:</td><td><div>/SlugDash/default/purchase</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">QUERY_STRING</td><td style="vertical-align:top;">:</td><td><div>_signature=5b66ab462d9b952245f634af254a39edfc37fe4e</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_ADDR</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REMOTE_PORT</td><td style="vertical-align:top;">:</td><td><div>61587</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">REQUEST_METHOD</td><td style="vertical-align:top;">:</td><td><div>POST</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SCRIPT_NAME</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_NAME</td><td style="vertical-align:top;">:</td><td><div>Dylan-Suchesks-MacBook-Pro-2.local</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PORT</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_PROTOCOL</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">SERVER_SOFTWARE</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/applications/welcome/&#x27;, &#x27;/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/applications/SlugDash/&#x27;, &#x27;/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/applications/admin/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x101d5bea8: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: False, &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;Dylan-Suchesks-MacBook-Pro-2.local&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: False, &#x27;port&#x27;: 8000, &#x27;print_errors&#x27;: False, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;gae&#x27;: None, &#x27;password&#x27;: &#x27;******&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">content_length</td><td style="vertical-align:top;">:</td><td><div>2179</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">content_type</td><td style="vertical-align:top;">:</td><td><div>application/x-www-form-urlencoded; charset=UTF-8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;SlugDash&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept</td><td style="vertical-align:top;">:</td><td><div>*/*</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_encoding</td><td style="vertical-align:top;">:</td><td><div>gzip, deflate</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_accept_language</td><td style="vertical-align:top;">:</td><td><div>en-US,en;q=0.8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_connection</td><td style="vertical-align:top;">:</td><td><div>keep-alive</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_content_length</td><td style="vertical-align:top;">:</td><td><div>2179</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_content_type</td><td style="vertical-align:top;">:</td><td><div>application/x-www-form-urlencoded; charset=UTF-8</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_cookie</td><td style="vertical-align:top;">:</td><td><div>session_id_welcome=127.0.0.1-a39261b9-8aa0-47f4-8b2b-d71ea5c6e2e1; session_id_admin=127.0.0.1-dae8cbcf-d259-4415-b3c7-f7f1ab310e99; session_id_slugdash=&quot;11:db66e72b-8856-47a8-aeff-773d514d21a9&quot;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_host</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_origin</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_referer</td><td style="vertical-align:top;">:</td><td><div>http://127.0.0.1:8000/SlugDash/default/index</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_user_agent</td><td style="vertical-align:top;">:</td><td><div>Mozilla/5.0 (Macintosh; Intel Mac OS X 10_6_8) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.112 Safari/537.36</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">http_x_requested_with</td><td style="vertical-align:top;">:</td><td><div>XMLHttpRequest</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>fe80::cabc:c8ff:fee8:3a%en1</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>192.168.255.25</div></td></tr><tr><td><div>Dylan-Suchesks-MacBook-Pro-2.local</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path_info</td><td style="vertical-align:top;">:</td><td><div>/SlugDash/default/purchase</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">query_string</td><td style="vertical-align:top;">:</td><td><div>_signature=5b66ab462d9b952245f634af254a39edfc37fe4e</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_addr</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">remote_port</td><td style="vertical-align:top;">:</td><td><div>61587</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_method</td><td style="vertical-align:top;">:</td><td><div>POST</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">request_uri</td><td style="vertical-align:top;">:</td><td><div>/SlugDash/default/purchase?_signature=5b66ab462d9b952245f634af254a39edfc37fe4e</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">script_name</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_name</td><td style="vertical-align:top;">:</td><td><div>Dylan-Suchesks-MacBook-Pro-2.local</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_port</td><td style="vertical-align:top;">:</td><td><div>8000</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_protocol</td><td style="vertical-align:top;">:</td><td><div>HTTP/1.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">server_software</td><td style="vertical-align:top;">:</td><td><div>Rocket 1.2.6</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_path</td><td style="vertical-align:top;">:</td><td><div>/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.14.6-stable+timestamp.2016.05.10.00.21.47</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x1002ab1e0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x101cfb8d8&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0x117aa60d0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi.version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_errors</td><td style="vertical-align:top;">:</td><td><div>&lt;open file &#x27;&lt;stderr&gt;&#x27;, mode &#x27;w&#x27; at 0x1002ab1e0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_file_wrapper</td><td style="vertical-align:top;">:</td><td><div>&lt;class wsgiref.util.FileWrapper at 0x101cfb8d8&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_input</td><td style="vertical-align:top;">:</td><td><div>&lt;socket._fileobject object at 0x117aa60d0&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multiprocess</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_multithread</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_run_once</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_url_scheme</td><td style="vertical-align:top;">:</td><td><div>http</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi_version</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>1</div></td></tr><tr><td><div>0</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">extension</td><td style="vertical-align:top;">:</td><td><div>html</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">folder</td><td style="vertical-align:top;">:</td><td><div>/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/applications/SlugDash/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">function</td><td style="vertical-align:top;">:</td><td><div>purchase</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">global_settings</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">app_folders</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/applications/welcome/&#x27;, &#x27;/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/applications/SlugDash/&#x27;, &#x27;/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/applications/admin/&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">applications_parent</td><td style="vertical-align:top;">:</td><td><div>/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_args</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cmd_options</td><td style="vertical-align:top;">:</td><td><div>&lt;Values at 0x101d5bea8: {&#x27;verbose&#x27;: False, &#x27;ip&#x27;: &#x27;127.0.0.1&#x27;, &#x27;debuglevel&#x27;: 30, &#x27;with_scheduler&#x27;: False, &#x27;shutdown_timeout&#x27;: 5, &#x27;taskbar&#x27;: False, &#x27;with_coverage&#x27;: False, &#x27;pid_filename&#x27;: &#x27;httpserver.pid&#x27;, &#x27;maxthreads&#x27;: None, &#x27;softcron&#x27;: False, &#x27;server_name&#x27;: &#x27;Dylan-Suchesks-MacBook-Pro-2.local&#x27;, &#x27;bpython&#x27;: False, &#x27;nogui&#x27;: False, &#x27;port&#x27;: 8000, &#x27;print_errors&#x27;: False, &#x27;extcron&#x27;: False, &#x27;runcron&#x27;: False, &#x27;run_system_tests&#x27;: False, &#x27;test&#x27;: None, &#x27;folder&#x27;: &#x27;/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py&#x27;, &#x27;config&#x27;: &#x27;&#x27;, &#x27;minthreads&#x27;: None, &#x27;shell&#x27;: None, &#x27;run&#x27;: &#x27;&#x27;, &#x27;log_filename&#x27;: &#x27;httpserver.log&#x27;, &#x27;profiler_dir&#x27;: None, &#x27;args&#x27;: [&#x27;&#x27;], &#x27;socket_timeout&#x27;: 5, &#x27;ssl_ca_certificate&#x27;: None, &#x27;scheduler&#x27;: None, &#x27;interfaces&#x27;: None, &#x27;ssl_private_key&#x27;: &#x27;&#x27;, &#x27;gae&#x27;: None, &#x27;password&#x27;: &#x27;******&#x27;, &#x27;request_queue_size&#x27;: 5, &#x27;ssl_certificate&#x27;: &#x27;&#x27;, &#x27;cronjob&#x27;: False, &#x27;numthreads&#x27;: None, &#x27;quiet&#x27;: False, &#x27;import_models&#x27;: False, &#x27;timeout&#x27;: 10, &#x27;plain&#x27;: False, &#x27;nobanner&#x27;: False}&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">db_sessions</td><td style="vertical-align:top;">:</td><td><div>set([&#x27;SlugDash&#x27;])</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">debugging</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">gluon_parent</td><td style="vertical-align:top;">:</td><td><div>/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_jython</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_pypy</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_source</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">local_hosts</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>fe80::cabc:c8ff:fee8:3a%en1</div></td></tr><tr><td><div>::ffff:127.0.0.1</div></td></tr><tr><td><div>::1</div></td></tr><tr><td><div>192.168.255.25</div></td></tr><tr><td><div>Dylan-Suchesks-MacBook-Pro-2.local</div></td></tr><tr><td><div>127.0.0.1</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">web2py_version</td><td style="vertical-align:top;">:</td><td><div>2.14.6-stable+timestamp.2016.05.10.00.21.47</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_https</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_local</td><td style="vertical-align:top;">:</td><td><div>True</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_restful</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_scheduler</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">is_shell</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">now</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2016, 11, 27, 14, 55, 16, 290650)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_args</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">raw_extension</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">url</td><td style="vertical-align:top;">:</td><td><div>/SlugDash/default/purchase</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">utcnow</td><td style="vertical-align:top;">:</td><td><div>datetime.datetime(2016, 11, 27, 22, 55, 16, 290661)</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">wsgi</td><td style="vertical-align:top;">:</td><td><div>&lt;gluon.main.LazyWSGI object at 0x117b0a110&gt;</div></td></tr></table></div>'
tRp68
sS'frames'
p69
(lp70
(dp71
S'file'
p72
S'/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/gluon/restricted.py'
p73
sS'dump'
p74
(dp75
S'environment'
p76
S"{'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'ASSIGNJS': <function ASSIGNJS>, 'AppConfig': <function AppConfig>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, ...}"
p77
sS'ccode'
p78
S'<code object <module> at 0x11aef6ab0, file "/Use...cations/SlugDash/controllers/default.py", line 8>'
p79
ssS'lnum'
p80
I227
sS'lines'
p81
(dp82
I224
S'            ccode = code'
p83
sI225
S'        else:'
p84
sI226
S'            ccode = compile2(code, layer)'
p85
sI227
S'        exec ccode in environment'
p86
sI228
S'    except HTTP:'
p87
sI229
S'        raise'
p88
sI230
S'    except RestrictedError:'
p89
sI231
S'        # do not encapsulate (obfuscate) the original RestrictedError'
p90
sI222
S'    try:'
p91
sI223
S'        if isinstance(code, types.CodeType):'
p92
ssS'call'
p93
S"(code='# -*- coding: utf-8 -*-\\n# this file is released ...ice()\\n\\nresponse._vars=response._caller(purchase)\\n', environment={'A': <class 'gluon.html.A'>, 'ANY_OF': <class 'gluon.validators.ANY_OF'>, 'ASSIGNJS': <function ASSIGNJS>, 'AppConfig': <function AppConfig>, 'Auth': <class 'gluon.tools.Auth'>, 'B': <class 'gluon.html.B'>, 'BEAUTIFY': <class 'gluon.html.BEAUTIFY'>, 'BODY': <class 'gluon.html.BODY'>, 'BR': <class 'gluon.html.BR'>, 'BUTTON': <class 'gluon.html.BUTTON'>, ...}, layer='/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/...b2py/applications/SlugDash/controllers/default.py')"
p94
sS'func'
p95
S'restricted'
p96
sa(dp97
g72
S'/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/applications/SlugDash/controllers/default.py'
p98
sg74
(dp99
sg80
I177
sg81
(dp100
I166
S''
sI167
S''
sI168
S'def call():'
p101
sI169
S'    """'
p102
sI170
S'    exposes services. for example:'
p103
sI171
S'    http://..../[app]/default/call/jsonrpc'
p104
sI172
S'    decorate with @services.jsonrpc the functions to expose'
p105
sI173
S'    supports xml, json, xmlrpc, jsonrpc, amfrpc, rss, csv'
p106
sI174
S'    """'
p107
sI175
S'    return service()'
p108
ssg93
S'()'
p109
sg95
S'<module>'
p110
sa(dp111
g72
S'/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/gluon/globals.py'
p112
sg74
(dp113
S'self'
p114
S'undefined'
p115
sS'f'
S'<function purchase>'
p116
ssg80
I417
sg81
(dp117
I416
S'        self._vars = None'
p118
sI417
S'        self._caller = lambda f: f()'
p119
sI418
S'        self._view_environment = None'
p120
sI419
S'        self._custom_commit = None'
p121
sI420
S'        self._custom_rollback = None'
p122
sI421
S"        self.generic_patterns = ['*']"
p123
sI412
S"        self.flash = ''            # used by the default view layout"
p124
sI413
S'        self.meta = Storage()      # used by web2py_ajax.html'
p125
sI414
S'        self.menu = []             # used by the default view layout'
p126
sI415
S'        self.files = []            # used by web2py_ajax.html'
p127
ssg93
S'(f=<function purchase>)'
p128
sg95
S'<lambda>'
p129
sa(dp130
g72
S'/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/applications/SlugDash/controllers/default.py'
p131
sg74
(dp132
S'description'
p133
g115
ssg80
I70
sg81
(dp134
I65
S'    try:'
p135
sI66
S'        charge = stripe.Charge.create('
p136
sI67
S'            amount=int(amount * 100),'
p137
sI68
S'            currency="usd",'
p138
sI69
S"            source=token['id'],"
p139
sI70
S'            description="Purchase",'
p140
sI71
S'        )'
p141
sI72
S'    except stripe.error.CardError as e:'
p142
sI73
S'        logger.info("The card has been declined.")'
p143
sI74
S'        logger.info("%r" % traceback.format_exc())'
p144
ssg93
S'()'
p145
sg95
S'purchase'
p146
sa(dp147
g72
S'/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/stripe/resource.py'
p148
sg74
(dp149
S'requestor.request'
p150
S'<bound method APIRequestor.request of <stripe.api_requestor.APIRequestor object>>'
p151
sS'url'
p152
S"'/v1/charges'"
p153
sS'requestor'
p154
S'<stripe.api_requestor.APIRequestor object>'
p155
sS'params'
p156
S"{'amount': 199, 'currency': 'usd', 'description': 'Purchase', 'source': u'tok_19KbYDLYBuEzC8CVCu56nKOP'}"
p157
sS'api_key'
p158
S'None'
p159
sS'response'
p160
g115
ssg80
I270
sg81
(dp161
I265
S''
sI266
S'    @classmethod'
p162
sI267
S'    def create(cls, api_key=None, **params):'
p163
sI268
S'        requestor = api_requestor.APIRequestor(api_key)'
p164
sI269
S'        url = cls.class_url()'
p165
sI270
S"        response, api_key = requestor.request('post', url, params)"
p166
sI271
S'        return convert_to_stripe_object(response, api_key)'
p167
sI272
S''
sI273
S''
sI274
S'class UpdateableAPIResource(APIResource):'
p168
ssg93
S"(cls=<class 'stripe.resource.Charge'>, api_key=None, **params={'amount': 199, 'currency': 'usd', 'description': 'Purchase', 'source': u'tok_19KbYDLYBuEzC8CVCu56nKOP'})"
p169
sg95
S'create'
p170
sa(dp171
g72
S'/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/stripe/api_requestor.py'
p172
sg74
(dp173
S'self.interpret_response'
p174
S'<bound method APIRequestor.interpret_response of <stripe.api_requestor.APIRequestor object>>'
p175
sS'resp'
p176
g115
sS'rbody'
p177
S'\'{\\n  "error": {\\n    "type": "invalid_request_erro...at https://stripe.com/blog/upgrading-tls."\\n  }\\n}\\n\''
p178
sS'rcode'
p179
S'401'
p180
sS'self'
p181
S'<stripe.api_requestor.APIRequestor object>'
p182
ssg80
I124
sg81
(dp183
I128
S'        try:'
p184
sI119
S'        return _build_api_url(url, cls.encode(params))'
p185
sI120
S''
sI121
S'    def request(self, method, url, params=None):'
p186
sI122
S'        rbody, rcode, my_api_key = self.request_raw('
p187
sI123
S'            method.lower(), url, params)'
p188
sI124
S'        resp = self.interpret_response(rbody, rcode)'
p189
sI125
S'        return resp, my_api_key'
p190
sI126
S''
sI127
S'    def handle_api_error(self, rbody, rcode, resp):'
p191
ssg93
S"(self=<stripe.api_requestor.APIRequestor object>, method='post', url='/v1/charges', params={'amount': 199, 'currency': 'usd', 'description': 'Purchase', 'source': u'tok_19KbYDLYBuEzC8CVCu56nKOP'})"
p192
sg95
g66
sa(dp193
g72
S'/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/stripe/api_requestor.py'
p194
sg74
(dp195
S'self'
p196
S'<stripe.api_requestor.APIRequestor object>'
p197
sS'rbody'
p198
S'u\'{\\n  "error": {\\n    "type": "invalid_request_...ttps://stripe.com/blog/upgrading-tls."\\n  }\\n}\\n\''
p199
sS'rcode'
p200
S'401'
p201
sS'self.handle_api_error'
p202
S'<bound method APIRequestor.handle_api_error of <stripe.api_requestor.APIRequestor object>>'
p203
sS'resp'
p204
S"{u'error': {u'message': u'Stripe no longer supports API requests made wi...t this at https://stripe.com/blog/upgrading-tls.', u'type': u'invalid_request_error'}}"
p205
ssg80
I231
sg81
(dp206
I226
S'            raise error.APIError('
p207
sI227
S'                "Invalid response body from API: %s "'
p208
sI228
S'                "(HTTP response code was %d)" % (rbody, rcode),'
p209
sI229
S'                rbody, rcode)'
p210
sI230
S'        if not (200 <= rcode < 300):'
p211
sI231
S'            self.handle_api_error(rbody, rcode, resp)'
p212
sI232
S'        return resp'
p213
sI233
S''
sI234
S'    # Deprecated request handling.  Will all be removed in 2.0'
p214
sI235
S'    def _deprecated_request(self, impl, method, url, headers, params):'
p215
ssg93
S'(self=<stripe.api_requestor.APIRequestor object>, rbody=u\'{\\n  "error": {\\n    "type": "invalid_request_...ttps://stripe.com/blog/upgrading-tls."\\n  }\\n}\\n\', rcode=401)'
p216
sg95
S'interpret_response'
p217
sa(dp218
g72
S'/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/stripe/api_requestor.py'
p219
sg74
(dp220
S'err.get'
p221
S'<built-in method get of dict object>'
p222
sS'resp'
p223
S"{u'error': {u'message': u'Stripe no longer supports API requests made wi...t this at https://stripe.com/blog/upgrading-tls.', u'type': u'invalid_request_error'}}"
p224
sS'rbody'
p225
S'u\'{\\n  "error": {\\n    "type": "invalid_request_...ttps://stripe.com/blog/upgrading-tls."\\n  }\\n}\\n\''
p226
sS'rcode'
p227
S'401'
p228
sS'err'
p229
S"{u'message': u'Stripe no longer supports API requests made wi...t this at https://stripe.com/blog/upgrading-tls.', u'type': u'invalid_request_error'}"
p230
ssg80
I141
sg81
(dp231
I136
S'        if rcode in [400, 404]:'
p232
sI137
S'            raise error.InvalidRequestError('
p233
sI138
S"                err.get('message'), err.get('param'), rbody, rcode, resp)"
p234
sI139
S'        elif rcode == 401:'
p235
sI140
S'            raise error.AuthenticationError('
p236
sI141
S"                err.get('message'), rbody, rcode, resp)"
p237
sI142
S'        elif rcode == 402:'
p238
sI143
S"            raise error.CardError(err.get('message'), err.get('param'),"
p239
sI144
S"                                  err.get('code'), rbody, rcode, resp)"
p240
sI145
S'        else:'
p241
ssg93
S'(self=<stripe.api_requestor.APIRequestor object>, rbody=u\'{\\n  "error": {\\n    "type": "invalid_request_...ttps://stripe.com/blog/upgrading-tls."\\n  }\\n}\\n\', rcode=401, resp={u\'error\': {u\'message\': u\'Stripe no longer supports API requests made wi...t this at https://stripe.com/blog/upgrading-tls.\', u\'type\': u\'invalid_request_error\'}})'
p242
sg95
S'handle_api_error'
p243
sasS'pyver'
p244
S'Python 2.7.12: /Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python (prefix: /Library/Frameworks/Python.framework/Versions/2.7)'
p245
sS'session'
p246
g67
(S's\xbf\x00\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">hmac_key</td><td style="vertical-align:top;">:</td><td><div>d8f8124f-9873-4c47-892c-c7e5e89d8324</div></td></tr></table></div>'
tRp247
sS'etype'
p248
S"<class 'stripe.error.AuthenticationError'>"
p249
sS'date'
p250
S'Sun Nov 27 14:55:18 2016'
p251
sS'response'
p252
g67
(S's\r(\x00\x00<div><table><tr><td style="font-weight:bold;vertical-align:top;">body</td><td style="vertical-align:top;">:</td><td><div>&lt;cStringIO.StringO object at 0x1178bbe68&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">cookies</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">session_id_slugdash</td><td style="vertical-align:top;">:</td><td><div>11:db66e72b-8856-47a8-aeff-773d514d21a9<table><tr><td style="font-weight:bold;vertical-align:top;">comment</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">domain</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">expires</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">httponly</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">max-age</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">path</td><td style="vertical-align:top;">:</td><td><div>/</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">secure</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">version</td><td style="vertical-align:top;">:</td><td><div></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">delimiters</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>{{</div></td></tr><tr><td><div>}}</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">files</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">flash</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">form_label_separator</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">formstyle</td><td style="vertical-align:top;">:</td><td><div>bootstrap3_inline</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generic_patterns</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>*</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">google_analytics_id</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">headers</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">X-Powered-By</td><td style="vertical-align:top;">:</td><td><div>web2py</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">logo</td><td style="vertical-align:top;">:</td><td><div><a class="navbar-brand" href="http://www.web2py.com/" id="web2py-logo"><b>web<span>2</span>py</b>&trade;&nbsp;</a></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">menu</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div><table><tr><td><div>Home</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/SlugDash/default/index</div></td></tr><tr><td><div><table></table></div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>View Orders</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/SlugDash/default/view_orders</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Manage Products</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/SlugDash/default/product_management</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>My Sites</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/site</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>This App</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>#</div></td></tr><tr><td><div><table><tr><td><div><table><tr><td><div>Design</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/design/SlugDash</div></td></tr></table></div></td></tr><tr><td><div><li class="divider"></li></div></td></tr><tr><td><div><table><tr><td><div>Controller</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/SlugDash/controllers/default.py</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>View</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/SlugDash/views/default/purchase.html</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>DB Model</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/SlugDash/models/db.py</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Menu Model</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/SlugDash/models/menu.py</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Config.ini</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/SlugDash/private/appconfig.ini</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Layout</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/SlugDash/views/layout.html</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Stylesheet</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/edit/SlugDash/static/css/web2py-bootstrap3.css</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Database</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/SlugDash/appadmin/index</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>Errors</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/errors/SlugDash</div></td></tr></table></div></td></tr><tr><td><div><table><tr><td><div>About</div></td></tr><tr><td><div>False</div></td></tr><tr><td><div>/admin/default/about/SlugDash</div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">meta</td><td style="vertical-align:top;">:</td><td><div><table><tr><td style="font-weight:bold;vertical-align:top;">author</td><td style="vertical-align:top;">:</td><td><div>Your Name &lt;you@example.com&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">description</td><td style="vertical-align:top;">:</td><td><div>a cool new app</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">generator</td><td style="vertical-align:top;">:</td><td><div>Web2py Web Framework</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">keywords</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>web2py</div></td></tr><tr><td><div>python</div></td></tr><tr><td><div>framework</div></td></tr></table></div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">models_to_run</td><td style="vertical-align:top;">:</td><td><div><table><tr><td><div>^\\w+\\.py$</div></td></tr><tr><td><div>^default/\\w+\\.py$</div></td></tr><tr><td><div>^default/purchase/\\w+\\.py$</div></td></tr></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">postprocessing</td><td style="vertical-align:top;">:</td><td><div><table></table></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_client</td><td style="vertical-align:top;">:</td><td><div>127.0.0.1</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_compression_level</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_cookie_expires</td><td style="vertical-align:top;">:</td><td><div>None</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_data_name</td><td style="vertical-align:top;">:</td><td><div>session_data_slugdash</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_db_record_id</td><td style="vertical-align:top;">:</td><td><div>11L</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_db_table</td><td style="vertical-align:top;">:</td><td><div>&lt;Table web2py_session_SlugDash (id, locked, client_ip, created_datetime, modified_datetime, unique_key, session_data)&gt;</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_db_unique_key</td><td style="vertical-align:top;">:</td><td><div>db66e72b-8856-47a8-aeff-773d514d21a9</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_hash</td><td style="vertical-align:top;">:</td><td><div>396fa011f5de626e4c6e59fe59c68d5b</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id</td><td style="vertical-align:top;">:</td><td><div>11:db66e72b-8856-47a8-aeff-773d514d21a9</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_id_name</td><td style="vertical-align:top;">:</td><td><div>session_id_slugdash</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_masterapp</td><td style="vertical-align:top;">:</td><td><div>SlugDash</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_new</td><td style="vertical-align:top;">:</td><td><div>False</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">session_storage_type</td><td style="vertical-align:top;">:</td><td><div>db</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">status</td><td style="vertical-align:top;">:</td><td><div>200</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">subtitle</td><td style="vertical-align:top;">:</td><td><div></div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">title</td><td style="vertical-align:top;">:</td><td><div>Slugdash</div></td></tr><tr><td style="font-weight:bold;vertical-align:top;">view</td><td style="vertical-align:top;">:</td><td><div>default/purchase.html</div></td></tr></table></div>'
tRp253
sS'locals'
p254
(dp255
S'resp'
p256
S"{u'error': {u'message': u'Stripe no longer supports API requests made wi...t this at https://stripe.com/blog/upgrading-tls.', u'type': u'invalid_request_error'}}"
p257
sS'rbody'
p258
S'u\'{\\n  "error": {\\n    "type": "invalid_request_...ttps://stripe.com/blog/upgrading-tls."\\n  }\\n}\\n\''
p259
sS'rcode'
p260
S'401'
p261
sS'self'
p262
S'<stripe.api_requestor.APIRequestor object>'
p263
sS'err'
p264
S"{u'message': u'Stripe no longer supports API requests made wi...t this at https://stripe.com/blog/upgrading-tls.', u'type': u'invalid_request_error'}"
p265
sssS'traceback'
p266
S'Traceback (most recent call last):\n  File "/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/gluon/restricted.py", line 227, in restricted\n    exec ccode in environment\n  File "/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/applications/SlugDash/controllers/default.py", line 177, in <module>\n  File "/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/gluon/globals.py", line 417, in <lambda>\n    self._caller = lambda f: f()\n  File "/Users/dylansuchesk/Desktop/Ry3on_Orange_Folder/college/cmps/cmps183/web2py/applications/SlugDash/controllers/default.py", line 70, in purchase\n    description="Purchase",\n  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/stripe/resource.py", line 270, in create\n    response, api_key = requestor.request(\'post\', url, params)\n  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/stripe/api_requestor.py", line 124, in request\n    resp = self.interpret_response(rbody, rcode)\n  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/stripe/api_requestor.py", line 231, in interpret_response\n    self.handle_api_error(rbody, rcode, resp)\n  File "/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages/stripe/api_requestor.py", line 141, in handle_api_error\n    err.get(\'message\'), rbody, rcode, resp)\nAuthenticationError: Stripe no longer supports API requests made with TLS 1.0. Please initiate HTTPS connections with TLS 1.2 or later. You can learn more about this at https://stripe.com/blog/upgrading-tls.\n'
p267
s.